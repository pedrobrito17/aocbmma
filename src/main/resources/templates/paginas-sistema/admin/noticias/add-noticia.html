<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{padrao/layout-admin-base}">

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.js"></script>
</head>

<body>
    <main layout:fragment="conteudo">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <br>
                    <h4><b>NOVA NOTÍCIA</b></h4>
                    <hr>

                </div>
            </div>
            <div class="row">
                <div class="col-lg-10 offset-lg-1">

                    <form enctype="multipart/form-data" th:action="@{/admin/salvar-noticia}" th:method="POST">
                        <div class="form-group">
                            <label for="titulo">Título</label>
                            <input class="form-control form-custom" name="titulo" type="text" required autofocus>
                        </div>
                        <div class="form-group">
                            <label for="imagem">Imagem</label>
                            <input class="form-control form-custom" name="imagem" type="file" accept="image/*" required>
                        </div>
                        <div class="form-group">
                            <textarea id="summernote" name="noticia"></textarea>
                        </div>
                        <input type="date" name="data-postagem" id="data" hidden>
                        <button type="submit" class="btn btn-danger btn-noticias float-right">SALVAR</button>
                    </form>

                </div>
            </div>
        </div>

        <script type="text/javascript">
            $(document).ready(function () {
                var data = new Date();
                let mes = 0;
                let dia = 0;
                if ((data.getMonth() + 1) < 10) {
                    mes = "0" + (data.getMonth() + 1);
                } else {
                    mes = (data.getMonth() + 1);
                }

                if(data.getDate()<10){
                    dia = '0' + data.getDate();
                }else{
                    dia = data.getDate();
                }

                $("#data").val(data.getFullYear() + "-" + mes + "-" + dia);
            });
        </script>

        <script type="text/javascript">
            $(document).ready(function () {
                $('#summernote').summernote({
                    lang: 'pt-BR',
                    height: 300,
                    toolbar: [
                        ['style', ['bold', 'italic', 'underline', 'clear']],
                        ['font', ['strikethrough', 'superscript', 'subscript']],
                        ['fontsize', ['fontsize']],
                        ['color', ['color']],
                        ['para', ['ul', 'ol', 'paragraph']],
                        ['height', ['height']],
                        ['link', ['link']]
                    ]
                });
            });
        </script>

    </main>

</body>

</html>